<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Wed Jan 31 11:21:19 GMT 2018 -->
<title>AdminCustomerBatchMgr (KonaKartAdmin API Documentation)</title>
<meta name="date" content="2018-01-31">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AdminCustomerBatchMgr (KonaKartAdmin API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/konakartadmin/bl/AdminCurrencyMgr.StaticData.html" title="class in com.konakartadmin.bl"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.CustRetList.html" title="class in com.konakartadmin.bl"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/konakartadmin/bl/AdminCustomerBatchMgr.html" target="_top">Frames</a></li>
<li><a href="AdminCustomerBatchMgr.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_com.konakartadmin.bl.AdminBatchBaseMgr">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.konakartadmin.bl</div>
<h2 title="Class AdminCustomerBatchMgr" class="title">Class AdminCustomerBatchMgr</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../com/konakartadmin/bl/AdminBaseMgr.html" title="class in com.konakartadmin.bl">com.konakartadmin.bl.AdminBaseMgr</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html" title="class in com.konakartadmin.bl">com.konakartadmin.bl.AdminBatchBaseMgr</a></li>
<li>
<ul class="inheritance">
<li>com.konakartadmin.bl.AdminCustomerBatchMgr</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">AdminCustomerBatchMgr</span>
extends <a href="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html" title="class in com.konakartadmin.bl">AdminBatchBaseMgr</a></pre>
<div class="block">The CustomerBatchMgr</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.CustRetList.html" title="class in com.konakartadmin.bl">AdminCustomerBatchMgr.CustRetList</a></strong></code>
<div class="block">A return object containing a list of Customers and the last customer Id processed</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_com.konakartadmin.bl.AdminBaseMgr">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;com.konakartadmin.bl.<a href="../../../com/konakartadmin/bl/AdminBaseMgr.html" title="class in com.konakartadmin.bl">AdminBaseMgr</a></h3>
<code><a href="../../../com/konakartadmin/bl/AdminBaseMgr.StaticData.html" title="class in com.konakartadmin.bl">AdminBaseMgr.StaticData</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.konakartadmin.bl.AdminBatchBaseMgr">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.konakartadmin.bl.<a href="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html" title="class in com.konakartadmin.bl">AdminBatchBaseMgr</a></h3>
<code><a href="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#log">log</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.konakartadmin.bl.AdminBaseMgr">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.konakartadmin.bl.<a href="../../../com/konakartadmin/bl/AdminBaseMgr.html" title="class in com.konakartadmin.bl">AdminBaseMgr</a></h3>
<code><a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#adminEng">adminEng</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#baseMgrMutex">baseMgrMutex</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#baseStaticDataHM">baseStaticDataHM</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#cDataEnd">cDataEnd</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#cDataStart">cDataStart</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#kkConf">kkConf</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#kkInstanceId">kkInstanceId</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#mgrFactory">mgrFactory</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#STORE_ID">STORE_ID</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#templateBaseDir">templateBaseDir</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#AdminCustomerBatchMgr(com.konakartadmin.appif.KKAdminIf)">AdminCustomerBatchMgr</a></strong>(<a href="../../../com/konakartadmin/appif/KKAdminIf.html" title="interface in com.konakartadmin.appif">KKAdminIf</a>&nbsp;eng)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#countCustomersBatch(java.lang.String,%20java.lang.String,%20java.lang.String)">countCustomersBatch</a></strong>(java.lang.String&nbsp;logName,
                   java.lang.String&nbsp;appendLogStr,
                   java.lang.String&nbsp;sessId)</code>
<div class="block">This batch is a simple example that can be used to demonstrate how the ExecuteMultiStoreBatch
 class can be used to execute batch jobs for each store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#deleteCustomer(com.konakartadmin.app.AdminCustomer,%20com.konakart.db.KKCriteria,%20com.konakart.db.KKCriteria,%20com.konakartadmin.blif.AdminCustomerMgrIf)">deleteCustomer</a></strong>(<a href="../../../com/konakartadmin/app/AdminCustomer.html" title="class in com.konakartadmin.app">AdminCustomer</a>&nbsp;cust,
              com.konakart.db.KKCriteria&nbsp;sessionCrit,
              com.konakart.db.KKCriteria&nbsp;sessionDelCrit,
              <a href="../../../com/konakartadmin/blif/AdminCustomerMgrIf.html" title="interface in com.konakartadmin.blif">AdminCustomerMgrIf</a>&nbsp;custMgr)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#deleteTemporaryDataBatch(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String)">deleteTemporaryDataBatch</a></strong>(java.lang.String&nbsp;logName,
                        java.lang.String&nbsp;appendLogStr,
                        java.lang.String&nbsp;numDaysStr,
                        java.lang.String&nbsp;cookieBlockSizeStr)</code>
<div class="block">This batch is used to delete temporary data in order to keep your KonaKart store running
 efficiently.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#expiredRewardPointBatch(java.lang.String,%20java.lang.String,%20java.lang.String)">expiredRewardPointBatch</a></strong>(java.lang.String&nbsp;logName,
                       java.lang.String&nbsp;appendLogStr,
                       java.lang.String&nbsp;numDaysStr)</code>
<div class="block">This batch is used to expire reward points after a certain time limit, which is entered as a
 number of days in the <code>numDays</code> parameter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected com.konakart.db.KKCriteria</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#getCustomerCriteria(int,%20int[])">getCustomerCriteria</a></strong>(int&nbsp;size,
                   int[]&nbsp;permanentCustTypes)</code>
<div class="block">Get the criteria object to search for customers</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.CustRetList.html" title="class in com.konakartadmin.bl">AdminCustomerBatchMgr.CustRetList</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#getCustomers(com.konakart.db.KKCriteria,%20int)">getCustomers</a></strong>(com.konakart.db.KKCriteria&nbsp;c,
            int&nbsp;custId)</code>
<div class="block">The method returns a null list within the return object when all of the customers have been
 read.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected com.konakart.db.KKCriteria</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#getCustomerTagCriteria(int)">getCustomerTagCriteria</a></strong>(int&nbsp;size)</code>
<div class="block">Get the criteria object to retrieve customers</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected com.konakart.db.KKCriteria</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#getSessionCriteria()">getSessionCriteria</a></strong>()</code>
<div class="block">Get the criteria object to search for a customer's session</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#getTimeInSecs()">getTimeInSecs</a></strong>()</code>
<div class="block">Utility method to return the current time in seconds</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;<a href="../../../com/konakartadmin/app/AdminOrder.html" title="class in com.konakartadmin.app">AdminOrder</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#getUnpaidOrders(com.konakart.db.KKCriteria)">getUnpaidOrders</a></strong>(com.konakart.db.KKCriteria&nbsp;c)</code>
<div class="block">The method returns null when all of the orders have been read.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#hasSessionExpired(int)">hasSessionExpired</a></strong>(int&nbsp;expiryInSecs)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#removeExpiredCustomersBatch(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String)">removeExpiredCustomersBatch</a></strong>(java.lang.String&nbsp;logName,
                           java.lang.String&nbsp;appendLogStr,
                           java.lang.String&nbsp;recordFetchSizeStr,
                           java.lang.String&nbsp;permanentCustTypesStr)</code>
<div class="block">Each existing customer is read from the database in a loop, and for each customer object we
 detect whether it has one or more expired session records and no non expired record.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#resetAggregateOrderTotalCustomerTag(java.lang.String,%20java.lang.String)">resetAggregateOrderTotalCustomerTag</a></strong>(java.lang.String&nbsp;logName,
                                   java.lang.String&nbsp;appendLogStr)</code>
<div class="block">This batch job should be run at regular intervals (e.g.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#updateCustomerTagsBatch(java.lang.String,%20java.lang.String,%20java.lang.String)">updateCustomerTagsBatch</a></strong>(java.lang.String&nbsp;logName,
                       java.lang.String&nbsp;appendLogStr,
                       java.lang.String&nbsp;recordFetchSizeStr)</code>
<div class="block">This is an example of how you might update Customer Tags in a batch job.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.konakartadmin.bl.AdminBatchBaseMgr">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.konakartadmin.bl.<a href="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html" title="class in com.konakartadmin.bl">AdminBatchBaseMgr</a></h3>
<code><a href="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#getBatchLogName(java.lang.String,%20boolean)">getBatchLogName</a>, <a href="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#getBoolean(java.lang.String,%20boolean,%20boolean)">getBoolean</a>, <a href="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#getInt(java.lang.String,%20int,%20boolean)">getInt</a>, <a href="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#getIntArray(java.lang.String)">getIntArray</a>, <a href="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#getLogName(java.lang.String,%20boolean)">getLogName</a>, <a href="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#validateTemplate(java.lang.String)">validateTemplate</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.konakartadmin.bl.AdminBaseMgr">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.konakartadmin.bl.<a href="../../../com/konakartadmin/bl/AdminBaseMgr.html" title="class in com.konakartadmin.bl">AdminBaseMgr</a></h3>
<code><a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#addInsertAttr(com.konakart.db.KKCriteria,%20java.lang.String,%20int)">addInsertAttr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#addInsertAttr(com.konakart.db.KKCriteria,%20java.lang.String,%20java.lang.Object)">addInsertAttr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#addStringRuleConstraint(com.konakart.db.KKCriteria,%20java.lang.String,%20int,%20org.apache.torque.map.ColumnMap)">addStringRuleConstraint</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#addStringRuleConstraint(com.konakart.db.KKCriteria,%20java.lang.String,%20int,%20java.lang.String)">addStringRuleConstraint</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#checkAPICallEnabled(java.lang.String)">checkAPICallEnabled</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#checkIntInRange(int,%20int,%20int,%20java.lang.String)">checkIntInRange</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#checkIntIsSet(int,%20java.lang.String,%20java.lang.String)">checkIntIsSet</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#checkRequired(java.lang.Object,%20java.lang.String,%20java.lang.String)">checkRequired</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#executeQuery(java.lang.String)">executeQuery</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#executeQuery(java.lang.String,%20java.util.List)">executeQuery</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminAddressMgr()">getAdminAddressMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminAuditMgr()">getAdminAuditMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminBillingMgr()">getAdminBillingMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminBookableProductMgr()">getAdminBookableProductMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminCatMgr()">getAdminCatMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminConfigMgr()">getAdminConfigMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminContentMgr()">getAdminContentMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminCurrMgr()">getAdminCurrMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminCustMgr()">getAdminCustMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminCustPwdHistMgr()">getAdminCustPwdHistMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminCustTagMgr()">getAdminCustTagMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminEmailMgr()">getAdminEmailMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminEng()">getAdminEng</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminEngineCacheMgr()">getAdminEngineCacheMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminEventMgr()">getAdminEventMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminFileMgr()">getAdminFileMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminFilterMgr()">getAdminFilterMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminHtmlMgr()">getAdminHtmlMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminImportMgr(com.konakartadmin.appif.KKAdminIf,%20com.konakart.appif.KKEngIf)">getAdminImportMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminLanguageMgr()">getAdminLanguageMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminManuMgr()">getAdminManuMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminMessageMgr()">getAdminMessageMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminMiscItemMgr()">getAdminMiscItemMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminMiscPriceMgr()">getAdminMiscPriceMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminModulesMgr()">getAdminModulesMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminMultiStoreMgr()">getAdminMultiStoreMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminOrderMgr()">getAdminOrderMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminPdfMgr()">getAdminPdfMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminProdAttrMgr()">getAdminProdAttrMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminProdMgr()">getAdminProdMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminPromMgr()">getAdminPromMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminReviewMgr()">getAdminReviewMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminSearchRuleMgr()">getAdminSearchRuleMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminSecMgr()">getAdminSecMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminServletMgr()">getAdminServletMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminShipmentMgr()">getAdminShipmentMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminSolrMgr()">getAdminSolrMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminStoreMgr()">getAdminStoreMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminTagMgr()">getAdminTagMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminTaxMgr()">getAdminTaxMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminValidationMgr()">getAdminValidationMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminVelocityContextMgr()">getAdminVelocityContextMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminWishListMgr()">getAdminWishListMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getBooleanFromString(java.lang.String,%20boolean)">getBooleanFromString</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getEmailThreadGracefulShutdownTimeout()">getEmailThreadGracefulShutdownTimeout</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getExportMgr()">getExportMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getExportMgr(com.konakart.appif.KKEngIf)">getExportMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getExportXMLData()">getExportXMLData</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getIntFromString(java.lang.String,%20int)">getIntFromString</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getKkConfig()">getKkConfig</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getKkInstanceId()">getKkInstanceId</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getMode()">getMode</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getModeString()">getModeString</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getMqMgr()">getMqMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getNewCriteria()">getNewCriteria</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getNewCriteria(boolean)">getNewCriteria</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getNewCriteria(boolean,%20org.apache.torque.sql.Query.Type)">getNewCriteria</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getNewCriteria(org.apache.torque.sql.Query.Type)">getNewCriteria</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getOtherModuleByName(java.lang.String)">getOtherModuleByName</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getPostSearchText()">getPostSearchText</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getPreSearchText()">getPreSearchText</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getProductsToCategoresCriteria()">getProductsToCategoresCriteria</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getPropertyValue(java.lang.String)">getPropertyValue</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getPropertyValue(java.lang.String,%20java.lang.String)">getPropertyValue</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getPropertyValueAsBool(java.lang.String,%20boolean)">getPropertyValueAsBool</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getPropertyValueAsInt(java.lang.String,%20int)">getPropertyValueAsInt</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getPropertyValueAsLong(java.lang.String,%20long)">getPropertyValueAsLong</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getRecordCount(com.konakart.db.KKCriteria)">getRecordCount</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getRecordCount(com.konakart.db.KKCriteria,%20java.sql.Connection)">getRecordCount</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getRewardPointMgr()">getRewardPointMgr</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getSingleIntResult(com.konakart.db.KKCriteria)">getSingleIntResult</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getStoreId()">getStoreId</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getTemplate(org.apache.velocity.app.VelocityEngine,%20java.lang.String,%20java.lang.String)">getTemplate</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getTemplateBase(java.lang.String)">getTemplateBase</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#getXml_io()">getXml_io</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#init(com.konakartadmin.appif.KKAdminIf)">init</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#insertKKEvent(int,%20int,%20int)">insertKKEvent</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#insertKKEvent(int,%20int,%20java.lang.String)">insertKKEvent</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#isConfigSet(java.lang.String,%20boolean)">isConfigSet</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#isEnterprise()">isEnterprise</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreLanguagesShared()">isMultiStoreLanguagesShared</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreMode()">isMultiStoreMode</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreShareCategories()">isMultiStoreShareCategories</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreShareCustomers()">isMultiStoreShareCustomers</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreShareCustomersOrProducts()">isMultiStoreShareCustomersOrProducts</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreShareProducts()">isMultiStoreShareProducts</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreSingleDBCSMode()">isMultiStoreSingleDBCSMode</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreSingleDBMode()">isMultiStoreSingleDBMode</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreSingleDBNonCSMode()">isMultiStoreSingleDBNonCSMode</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#isUnix()">isUnix</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#manageException(java.lang.Exception)">manageException</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#manageThrowable(java.lang.Throwable)">manageThrowable</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#refreshConfigs()">refreshConfigs</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#removeCData(java.lang.String)">removeCData</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#setAdminEng(com.konakartadmin.appif.KKAdminIf)">setAdminEng</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#setupWildCardRules(com.konakartadmin.bl.AdminBaseMgr.StaticData)">setupWildCardRules</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#setWildCardAfter(com.konakartadmin.bl.AdminBaseMgr.StaticData)">setWildCardAfter</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#setWildCardBefore(com.konakartadmin.bl.AdminBaseMgr.StaticData)">setWildCardBefore</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#shutdownGracefully(java.io.BufferedWriter)">shutdownGracefully</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#shutdownGracefully(java.util.concurrent.ExecutorService,%20java.io.BufferedWriter)">shutdownGracefully</a>, <a href="../../../com/konakartadmin/bl/AdminBaseMgr.html#timestampStr()">timestampStr</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AdminCustomerBatchMgr(com.konakartadmin.appif.KKAdminIf)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AdminCustomerBatchMgr</h4>
<pre>public&nbsp;AdminCustomerBatchMgr(<a href="../../../com/konakartadmin/appif/KKAdminIf.html" title="interface in com.konakartadmin.appif">KKAdminIf</a>&nbsp;eng)
                      throws java.lang.Exception</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>eng</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="removeExpiredCustomersBatch(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeExpiredCustomersBatch</h4>
<pre>public&nbsp;java.lang.String&nbsp;removeExpiredCustomersBatch(java.lang.String&nbsp;logName,
                                           java.lang.String&nbsp;appendLogStr,
                                           java.lang.String&nbsp;recordFetchSizeStr,
                                           java.lang.String&nbsp;permanentCustTypesStr)
                                             throws java.lang.Exception</pre>
<div class="block">Each existing customer is read from the database in a loop, and for each customer object we
 detect whether it has one or more expired session records and no non expired record. If this
 is the case, the customer and the session records are deleted. If no session records exist,
 then the creation time of the customer is read and the customer is deleted if it has existed
 for a few seconds, in order to avoid deleting customers that are in the process of being
 created and registered.
 
 This batch is used for the case where KonaKart mustn't store customer information so this
 information is stored only temporarily to allow a customer to place an order and then is
 deleted.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>logName</code> - The name of the log which shouldn't include the path or extension. i.e. It should
            be myLog rather than /logs/myLog.txt.</dd><dd><code>appendLogStr</code> - If set to false, a new log will be created every time the batch job is run.
            Otherwise new data will be appended to the existing log. It defaults to false.</dd><dd><code>recordFetchSizeStr</code> - It the batch involves reading many records in a loop, this determines the maximum
            number read in any one loop. It defaults to 100.</dd><dd><code>permanentCustTypesStr</code> - An array of customer types that won't be deleted. They are in a format "3-6-8"
            where "-" is a delimiter between the integers.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the number of customers removed</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="deleteCustomer(com.konakartadmin.app.AdminCustomer, com.konakart.db.KKCriteria, com.konakart.db.KKCriteria, com.konakartadmin.blif.AdminCustomerMgrIf)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteCustomer</h4>
<pre>protected&nbsp;int&nbsp;deleteCustomer(<a href="../../../com/konakartadmin/app/AdminCustomer.html" title="class in com.konakartadmin.app">AdminCustomer</a>&nbsp;cust,
                 com.konakart.db.KKCriteria&nbsp;sessionCrit,
                 com.konakart.db.KKCriteria&nbsp;sessionDelCrit,
                 <a href="../../../com/konakartadmin/blif/AdminCustomerMgrIf.html" title="interface in com.konakartadmin.blif">AdminCustomerMgrIf</a>&nbsp;custMgr)
                      throws java.lang.Exception</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="hasSessionExpired(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasSessionExpired</h4>
<pre>protected&nbsp;boolean&nbsp;hasSessionExpired(int&nbsp;expiryInSecs)</pre>
</li>
</ul>
<a name="getCustomers(com.konakart.db.KKCriteria, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCustomers</h4>
<pre>protected&nbsp;<a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.CustRetList.html" title="class in com.konakartadmin.bl">AdminCustomerBatchMgr.CustRetList</a>&nbsp;getCustomers(com.konakart.db.KKCriteria&nbsp;c,
                                             int&nbsp;custId)
                                                  throws java.lang.Exception</pre>
<div class="block">The method returns a null list within the return object when all of the customers have been
 read. The caller can stop looping when he receives null.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>c</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns a list of AdminCustomers and the last customer Id</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="getSessionCriteria()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSessionCriteria</h4>
<pre>protected&nbsp;com.konakart.db.KKCriteria&nbsp;getSessionCriteria()</pre>
<div class="block">Get the criteria object to search for a customer's session</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Returns a criteria object</dd></dl>
</li>
</ul>
<a name="getCustomerCriteria(int, int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCustomerCriteria</h4>
<pre>protected&nbsp;com.konakart.db.KKCriteria&nbsp;getCustomerCriteria(int&nbsp;size,
                                             int[]&nbsp;permanentCustTypes)</pre>
<div class="block">Get the criteria object to search for customers</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>size</code> - </dd><dd><code>permanentCustTypes</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns a criteria object</dd></dl>
</li>
</ul>
<a name="expiredRewardPointBatch(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expiredRewardPointBatch</h4>
<pre>public&nbsp;void&nbsp;expiredRewardPointBatch(java.lang.String&nbsp;logName,
                           java.lang.String&nbsp;appendLogStr,
                           java.lang.String&nbsp;numDaysStr)
                             throws java.lang.Exception</pre>
<div class="block">This batch is used to expire reward points after a certain time limit, which is entered as a
 number of days in the <code>numDays</code> parameter. The expired attribute of each expired
 reward points record is set to non zero by the batch.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>logName</code> - The name of the log which shouldn't include the path or extension. i.e. It should
            be myLog rather than /logs/myLog.txt.</dd><dd><code>appendLogStr</code> - If set to false, a new log will be created every time the batch job is run.
            Otherwise new data will be appended to the existing log. It defaults to false.</dd><dd><code>numDaysStr</code> - If current time - numDays is greater than the date when the reward point
            transaction was added, then the points added in that transaction are expired.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="deleteTemporaryDataBatch(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteTemporaryDataBatch</h4>
<pre>public&nbsp;void&nbsp;deleteTemporaryDataBatch(java.lang.String&nbsp;logName,
                            java.lang.String&nbsp;appendLogStr,
                            java.lang.String&nbsp;numDaysStr,
                            java.lang.String&nbsp;cookieBlockSizeStr)
                              throws java.lang.Exception</pre>
<div class="block">This batch is used to delete temporary data in order to keep your KonaKart store running
 efficiently. It deletes :
 <ul>
 <li>Expired sessions which remain in the sessions table if a customer doesn't log off the
 storefront application.</li>
 <li>Counter records.</li>
 <li>Data from the kk_sso table for records older than the number of days passed in as a
 parameter.</li>
 <li>KKEvents more than 4 hours old.</li>
 <li>KonaKart cookies from the kk_cookie table. These cookie records are used to identify
 temporary returning customers (i.e. returning customers that never registered) so that their
 cart items can be persisted. The associated customers_basket, customers_basket_attributes,
 kk_wishlist, kk_wishlist_item, kk_customers_to_tag records are also deleted.</li>
 </ul>
 By default it reads cookieBlockSizeStr kk_cookie records at a time and deletes them and
 associated records using delete statements with an IN clause so that up to cookieBlockSizeStr
 deletes are performed with one SQL statement. If the batch job is taking too long, you may
 try increasing this number.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>logName</code> - The name of the log which shouldn't include the path or extension. i.e. It should
            be myLog rather than /logs/myLog.txt.</dd><dd><code>appendLogStr</code> - If set to false, a new log will be created every time the batch job is run.
            Otherwise new data will be appended to the existing log. It defaults to false.</dd><dd><code>numDaysStr</code> - kk_cookie records are deleted if current time - numDays is greater than the date
            when the cookie was last read or actually created (for the case when it has never
            been read).</dd><dd><code>cookieBlockSizeStr</code> - The number of kk_cookie records read and deleted at a time using an IN clause. A
            good starting value for this parameter is 250. It can be increased in order to
            speed up the batch job if there are many kk_cookie records to delete.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="getTimeInSecs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeInSecs</h4>
<pre>public&nbsp;int&nbsp;getTimeInSecs()</pre>
<div class="block">Utility method to return the current time in seconds</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Returns the time</dd></dl>
</li>
</ul>
<a name="getUnpaidOrders(com.konakart.db.KKCriteria)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUnpaidOrders</h4>
<pre>protected&nbsp;java.util.List&lt;<a href="../../../com/konakartadmin/app/AdminOrder.html" title="class in com.konakartadmin.app">AdminOrder</a>&gt;&nbsp;getUnpaidOrders(com.konakart.db.KKCriteria&nbsp;c)
                                              throws java.lang.Exception</pre>
<div class="block">The method returns null when all of the orders have been read. The caller can stop looping
 when he receives null.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>c</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns a list of AdminOrders</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="countCustomersBatch(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countCustomersBatch</h4>
<pre>public&nbsp;void&nbsp;countCustomersBatch(java.lang.String&nbsp;logName,
                       java.lang.String&nbsp;appendLogStr,
                       java.lang.String&nbsp;sessId)
                         throws java.lang.Exception</pre>
<div class="block">This batch is a simple example that can be used to demonstrate how the ExecuteMultiStoreBatch
 class can be used to execute batch jobs for each store.
 <p>
 It simply counts the number of customers in the store and writes out this number.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>logName</code> - The name of the log which shouldn't include the path or extension. i.e. It should
            be myLog rather than /logs/myLog.txt.</dd><dd><code>appendLogStr</code> - If set to false, a new log will be created every time the batch job is run.
            Otherwise new data will be appended to the existing log. It defaults to false.</dd><dd><code>sessId</code> - The sessionId. The sessionId is a special parameter defined in the
            konakart_jobs.xml file. If a parameter is defined with value "SESSION_ID",
            KonaKart will replace this value with the sessionId of the logged in session.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="updateCustomerTagsBatch(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateCustomerTagsBatch</h4>
<pre>public&nbsp;java.lang.String&nbsp;updateCustomerTagsBatch(java.lang.String&nbsp;logName,
                                       java.lang.String&nbsp;appendLogStr,
                                       java.lang.String&nbsp;recordFetchSizeStr)
                                         throws java.lang.Exception</pre>
<div class="block">This is an example of how you might update Customer Tags in a batch job.
 <p>
 Each existing customer is read from the database in a loop, and for each customer object we
 update the IS_MALE customer tags if is has changed or isn't present.
 <p>
 This is a somewhat trivial example but is expected to be extended to suit specific
 requirements for a store.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>logName</code> - The name of the log which shouldn't include the path or extension. i.e. It should
            be myLog rather than /logs/myLog.txt.</dd><dd><code>appendLogStr</code> - If set to false, a new log will be created every time the batch job is run.
            Otherwise new data will be appended to the existing log. It defaults to false.</dd><dd><code>recordFetchSizeStr</code> - It the batch involves reading many records in a loop, this determines the maximum
            number read in any one loop. It defaults to 100.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the number of customers updated</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="getCustomerTagCriteria(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCustomerTagCriteria</h4>
<pre>protected&nbsp;com.konakart.db.KKCriteria&nbsp;getCustomerTagCriteria(int&nbsp;size)</pre>
<div class="block">Get the criteria object to retrieve customers</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>size</code> - the number of records to retrieve at a time</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns a criteria object</dd></dl>
</li>
</ul>
<a name="resetAggregateOrderTotalCustomerTag(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>resetAggregateOrderTotalCustomerTag</h4>
<pre>public&nbsp;java.lang.String&nbsp;resetAggregateOrderTotalCustomerTag(java.lang.String&nbsp;logName,
                                                   java.lang.String&nbsp;appendLogStr)
                                                     throws java.lang.Exception</pre>
<div class="block">This batch job should be run at regular intervals (e.g. monthly) to reset the customer tag
 that contains the order value total for a customer for a period of time. After a default
 installation the name of this tag is B2B_AGGREGATE_ORDER_TOTAL. It is used in a B2B
 environment to manage the quota of a corporate buyer over a time period. For example, a buyer
 may only be allowed to spend $x.xx / month which is information contained in another tag
 called B2B_AGGREGATE_ORDER_LIMIT. The tag that is reset contains the running total spent for
 the month and so must be reset at the end of the month by this batch job.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>logName</code> - The name of the log which shouldn't include the path or extension. i.e. It should
            be myLog rather than /logs/myLog.txt.</dd><dd><code>appendLogStr</code> - If set to false, a new log will be created every time the batch job is run.
            Otherwise new data will be appended to the existing log. It defaults to false.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the number of tags updated</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/konakartadmin/bl/AdminCurrencyMgr.StaticData.html" title="class in com.konakartadmin.bl"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.CustRetList.html" title="class in com.konakartadmin.bl"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/konakartadmin/bl/AdminCustomerBatchMgr.html" target="_top">Frames</a></li>
<li><a href="AdminCustomerBatchMgr.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_com.konakartadmin.bl.AdminBatchBaseMgr">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2011 DS Data Systems UK Ltd.</small></p>
</body>
</html>
